<html><head><meta charset="UTF-8"><link rel="import" href="hedgehog-app.html"></head><body><dom-module id="hedgehog-results-view">
    <template>
        <style include="shared-styles">
          :host {
            display: inline-block;
            //width: 100%;

            --task-pending-color: yellow;
            --task-initialized-color: white;
            --task-running-color: blue;
            --task-disabled-color: gray;
            --task-done-color: green;
            --task-failure-color: red;
          }

          :host paper-card {
            width: 100%;
          }

          :host paper-card div.card-content {
            @apply(--paper-font-common-nowrap);
          }

          .pending {
            background: var(--task-pending-color);
          }
          .initialized {
            background: var(--task-initialized-color);
          }
          .disabled {
            background: var(--task-disabled-color);
          }
          .done {
            background: var(--task-done-color);
          }
          .failure {
            background: var(--task-failure-color);
          }
          .running {
            background: var(--task-running-color);
          }










        </style>


        <app-route route="{{route}}" pattern="/:id" data="{{routeData}}"></app-route>
        <iron-ajax url="/processengine/executions/[[routeData.id]]" auto="" last-response="{{execution}}"></iron-ajax>
        <iron-ajax url="/processengine/data/[[routeData.id]]/raw" auto="" last-response="{{taskresult}}"></iron-ajax>

        <app-toolbar>
            <plutonium-breadcrumbs crumbs="[[crumbs]]"></plutonium-breadcrumbs>
        </app-toolbar>

        <paper-card class="[[execution.status]]" style="width: 100%">
            <div class="card-content">
                <div>
                    Azonosító: [[execution.id]]
                </div>
                <div>
                    Kezdet:
                    <moment-js date="[[execution.begins]]" format="LLLL" date-format="YYYY-MM-DDTHH:mm:ss.SSSSSSZ" utc=""></moment-js>
                </div>
                <div>
                    Vég:
                    <moment-js date="[[execution.begins]]" format="LLLL" date-format="YYYY-MM-DDTHH:mm:ss.SSSSSSZ" utc=""></moment-js>
                </div>
                <div title="[[execution.status]] állapotban.">
                    Státusz:
                    <iron-icon icon="shared-icons:[[execution.status]]"></iron-icon>
                </div>
            </div>
        </paper-card>

        <p>[[rawData]]</p>

        
        
        
        
        
        
        
        
    </template>

    <script>Polymer({is:"hedgehog-results-view",properties:{execution:{type:Object,notify:!0},headers:{type:Object,notify:!0,reflectToAttribute:!0},crumbs:{type:Array,computed:"_computeCrumbs(execution)"},rawData:{type:String,computed:"_computeRawData(taskresult.result)"}},attached:function(){this.fire("plutonium-notification",{level:"error",message:"Kapcsolódás a műszerhez sikertelen."})},_computeCrumbs:function(e){return[{label:"Mérés",href:"#/measurementjournal-view"},{label:"Eredmények #"+e.id,href:"#/results-view/"+e.id}]},_computeRawData:function(e){return JSON.stringify(e)},_onManualRunDefinition:function(e,t){console.log(this.headers),this.$.runProcessDefinitionAjax.generateRequest()},_onManualRunDefinitionResponse:function(e,t){this.fire("plutonium-notification",{level:"info",message:this.get("displayName")+" elindítva."})},_onManualRunDefinitionError:function(e,t){this.fire("plutonium-notification",{level:"error",message:t.error.message})}});</script>
</dom-module>
</body></html>