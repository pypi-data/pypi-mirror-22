<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="./moment-import-behavior.html">



</head><body><dom-module id="moment-js">
  <template>
    <span hidden$="[[hide]]">[[output]]</span>
  </template>

  <script>Polymer({is:"moment-js",behaviors:[MomentJs.MomentImportBehavior],properties:{date:{type:String,observer:"_dateChanged"},dateFormat:{type:String,value:null,observer:"_updateFormattedDateMoment"},format:String,formattedDate:{type:String,readOnly:!0,notify:!0},formattedDateMoment:{type:String,readOnly:!0,notify:!0},utc:{type:Boolean,value:!1,observer:"_updateFormattedDateMoment"},hide:{type:Boolean,value:!1},isValid:{type:Boolean,value:!1},startOf:String,endOf:String,relativeTime:{type:String,readOnly:!0,notify:!0},fromNow:Boolean,calendarTime:Boolean,toNow:Boolean,output:{type:String,readOnly:!0,notify:!0},isMomentReady:{type:Boolean,value:!1,notify:!0}},listeners:{"moment-is-ready":"_momentIsReady"},_dateChanged:function(t){this.isMomentReady===!0&&(isNaN(t)?this.set("date",this.date):this.set("date",Number(this.date)),this._updateFormattedDateMoment())},_updateFormattedDateMoment:function(){this.isMomentReady===!0&&(this.dateFormat?this.utc?this._setFormattedDateMoment(moment.utc(this.date,this.dateFormat)):this._setFormattedDateMoment(moment(this.date,this.dateFormat)):this.utc?this._setFormattedDateMoment(moment.utc(this.date)):this._setFormattedDateMoment(moment(this.date)),this._updateFormattedDate(),this._updateRelativeTime())},_updateFormattedDate:function(){this.formattedDateMoment&&(this._setFormattedDate(this.formattedDateMoment.format(this.format)),this.relativeTime||this._setOutput(this.formattedDate))},_updateRelativeTime:function(){this.formattedDateMoment&&(this.fromNow?this._setRelativeTime(this.formattedDateMoment.fromNow()):this.toNow?this._setRelativeTime(this.formattedDateMoment.toNow()):this.calendarTime&&this._setRelativeTime(this.formattedDateMoment.calendar()),this.relativeTime&&this._setOutput(this.relativeTime))},_updateIsValid:function(){this.dateFormat?this.set("isValid",moment(this.date,this.dateFormat).isValid()):this.set("isValid",moment(this.date).isValid())},_startOfChanged:function(){this._setFormattedDateMoment(this.formattedDateMoment.startOf(this.startOf)),this._updateFormattedDate()},_endOfChanged:function(){this._setFormattedDateMoment(this.formattedDateMoment.endOf(this.endOf)),this._updateFormattedDate()},_momentIsReady:function(){this.set("isMomentReady",!0),void 0===this.format&&this.set("format",moment.defaultFormat),this.observers=["_updateFormattedDate(format)","_startOfChanged(startOf)","_endOfChanged(endOf)","_updateRelativeTime(fromNow)","_updateRelativeTime(toNow)","_updateRelativeTime(calendarTime)","_updateIsValid(date, dateFormat)"],this._dateChanged(this.date),this._updateFormattedDate(this.format),this._startOfChanged(this.startOf),this._endOfChanged(this.endOf),this._updateIsValid(this.date,this.dateFormat)}});</script>
</dom-module>
</body></html>