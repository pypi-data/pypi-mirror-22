<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Products.CMFCore Changelog &#8212; Products.CMFCore 2.4.0b1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.4.0b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tool API Reference" href="api/tools.html" />
    <link rel="prev" title="Products.CMFCore" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api/tools.html" title="Tool API Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Products.CMFCore"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Products.CMFCore 2.4.0b1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="products-cmfcore-changelog">
<h1>Products.CMFCore Changelog<a class="headerlink" href="#products-cmfcore-changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="b1-2017-05-04">
<h2>2.4.0b1 (2017-05-04)<a class="headerlink" href="#b1-2017-05-04" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Target use with Zope 4:  no longer support 2.13.x.</li>
<li>Make sure RegistrationTool.addMember is not published
[vangheem]</li>
<li>Don&#8217;t fail on catalog inconsistency when doing <cite>reindexObjectSecurity</cite>
[tomgross]</li>
</ul>
</div>
<div class="section" id="id1">
<h2>2.3.0 (2015-02-20)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fall back to DAV aware marshaller when importing or exporting folderish
content, so types now retain their metadata when being round-tripped.
[MatthewWilkes]</li>
<li>IndexableObjectWrapper: Made sure portal_type doesn&#8217;t return None.
Products.ZCatalog 3 indexes can no longer handle None values.</li>
<li>interfaces: Fixed dotted names by setting __module__ explicitly.</li>
<li>Skinnable: The skins tool is now looked up as utility.
&#8216;getSkinsFolderName&#8217; is no longer supported, that method was removed.</li>
<li>permissions: Fixed some issues in permissions.zcml.</li>
<li>support unset portal_skins request variables in HTTP headers
(see <a class="reference external" href="https://dev.plone.org/ticket/10071">https://dev.plone.org/ticket/10071</a>) [fRiSi]</li>
</ul>
</div>
<div class="section" id="beta2-2012-03-31">
<h2>2.3.0-beta2 (2012-03-31)<a class="headerlink" href="#beta2-2012-03-31" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>added fixes for migrating CMF 2.2 sites.</li>
</ul>
</div>
<div class="section" id="beta-2012-03-21">
<h2>2.3.0-beta (2012-03-21)<a class="headerlink" href="#beta-2012-03-21" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>DynamicType: Modified &#8216;icon&#8217; method.
The specified icon might be registered for a ZTK layer that is not available
in the ZMI. If the icon can&#8217;t be found, an empty string is returned.</li>
<li>exportimport.tests.test_mailhost:  Accomodate &#8216;smtp_queue&#8217; and
&#8216;smtp_queue_directory&#8217; exports (newly added in GenericSetup).</li>
<li>tools: Converted all tools into local utilities.</li>
<li>MemberDataTool: Changed property modes to &#8216;w&#8217; and added &#8216;fullname&#8217; property.</li>
<li>setup handlers: Improved content type registry handler.
The &#8216;insert-before&#8217; and &#8216;insert-after&#8217; directives are now supported.</li>
<li>Optimize <cite>SkinnableObjectManager.__getattr__</cite> to short circuit view (<cite>&#64;</cite>) and
traverser (<cite>+</cite>) lookup in addition to <cite>_</cite> and <cite>aq_</cite>.</li>
<li>Avoid a shallow dependency on <cite>Products.ZReST</cite>.</li>
<li>Fixed types tool test to only test creation for type infos.</li>
<li>utils: Fixed &#8216;_OldCacheHeaders&#8217; and &#8216;_FSCacheHeaders&#8217; methods.
DateTimeErrors caused by invalid HTTP headers were not caught.</li>
<li>setup handlers: Added export/import support for member data tool settings.</li>
<li>MemberDataTool: Fixed tool initialization.
The default boolean and date property values were not set correctly.</li>
<li>MemberDataTool: Modified &#8216;setProperties&#8217; method.
It now can be used by user managers as well.</li>
<li>MembershipTool: Added &#8216;isMemberAccessAllowed&#8217; method.
If you don&#8217;t have the &#8216;Manage users&#8217; permission for the membership tool, you
shouldn&#8217;t have write access to other members.</li>
<li>MemberDataTool: Removed obsolete MemberData factory lookup.
This feature was added in CMF 2.2, but now the MemberAdapter should be
overridden instead.</li>
<li>MemberDataTool: Split up MemberData class.
The old MemberData API is now provided by the new MemberAdapter. The
persistent MemberData objects are just used for storing member data.</li>
<li>interfaces: Added &#8216;IMember&#8217; interface.</li>
<li>permissions: Marked &#8216;setDefaultRoles&#8217; as deprecated.</li>
<li>DirectoryView: Added &#8216;bobobase_modification_time&#8217; method to FSObject.
The &#8220;Contents&#8221; tab in the ZMI now shows useful &#8216;Last Modified&#8217; values.</li>
<li>DirectoryView: Changed debug mode behavior.
No additional subdirs are registered in debug mode. If you add new subdirs,
you have to restart your instance.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/271027">https://bugs.launchpad.net/zope-cmf/+bug/271027</a>)</li>
<li>DirectoryView: Improved debug mode speed on NTFS partitions.
The much faster non-Windows implementation is now used on Windows as well if
non-FAT32 time stamps are detected. In rare cases that heuristic approach
might fail to detected NTFS partitions.</li>
<li>DirectoryView: Modernized debug mode lookup.
Now getConfiguration().debug_mode is used instead of Globals.DevelopmentMode.</li>
<li>Fix content exportimport when Title or Description are unicode (merge from
2.2 branch).</li>
<li>tests base: Tightened security for anonymous test user.</li>
<li>Load permissions.zcml from Products.Five in the test to fix tests
with Zope 2.12.</li>
<li>notifyWorkflowCreated only to IWorkflowAware, possibly following adaption on
IObjectAddedEvent.</li>
<li>Adapterize workflow storage lookups.</li>
<li>utils: Added FakeExecutableObject.
It can be used to set proxy roles in trusted code.</li>
<li>tests base: Removed obsolete test utils.</li>
<li>testing: Removed broken run function.
Unit test modules are no longer directly executable.</li>
<li>CookieCrumbler: Removed redirect support.
The Unauthorized handling and redirects are now part of CMFDefault.</li>
<li>Added a permissions.zcml file defining our own permissions. This was
formerly done in Zope 2&#8217;s Products.Five.</li>
<li>Removed zope.app.testing dependency.</li>
<li>Import BeforeTraverseEvent from new location if available.</li>
<li>Skinnable and MembershipTool: Removed support for missing REQUEST argument.
&#8216;changeSkin&#8217;, &#8216;setupCurrentSkin&#8217; and &#8216;credentialsChanged&#8217; will no longer
try to acquire the request if it is not passed in explicitly.</li>
<li>Tools and PortalFolder: Removed support for deprecated marker attributes.
&#8216;_isDirectoryView&#8217;, &#8216;_isPortalRoot&#8217;, &#8216;_isTypeInformation&#8217; and &#8216;_isAWorkflow&#8217;
are no longer supported.</li>
<li>utils: Removed deprecated functions.
&#8216;getToolByInterfaceName&#8217;, &#8216;initializeBasesPhase1&#8217;, &#8216;initializeBasesPhase2&#8217;,
&#8216;expandpath&#8217; and &#8216;minimalpath&#8217; are no longer available.</li>
<li>DirectoryView: Removed support for deprecated old API.</li>
<li>Require at least Zope 2.13.12.</li>
</ul>
</div>
<div class="section" id="id2">
<h2>2.2.5 (2011-11-01)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added two missing explicit InitializeClass calls.</li>
</ul>
</div>
<div class="section" id="id3">
<h2>2.2.4 (2011-04-02)<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix content exportimport when Title or Description are unicode.</li>
</ul>
</div>
<div class="section" id="id4">
<h2>2.2.3 (2010-10-31)<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make the error raised when trying to rename an instance of ImmutableId
indicate the id of the object.</li>
<li>DateTime 2.12.5 does away with a special case representing
DateTime values for midnight (00:00:00) without their time and
time zone values. So DateTimes formerly rendered as
<code class="docutils literal"><span class="pre">2010/01/01</span></code> in the UTC timezone now render as
<code class="docutils literal"><span class="pre">2010/01/01</span> <span class="pre">00:00:00</span> <span class="pre">UTC</span></code>. Several unit tests that relied on
the old-style representation had to be fixed.</li>
<li>Get most tests working under Zope 2.13.0a2.</li>
<li>Added dependency on the new <code class="docutils literal"><span class="pre">Products.ZSQLMethods</span></code> distribution and updated
Zope2 requirement accordingly.</li>
</ul>
</div>
<div class="section" id="id5">
<h2>2.2.2 (2010-07-04)<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Backport test setup fixes for Zope 2.13 compatibility.</li>
<li>Use the standard libraries doctest module.</li>
<li>Updated setDefaultRoles to use the addPermission API if available.</li>
<li>Updated test to work with zope.contenttype &gt;= 3.4.3.</li>
</ul>
</div>
<div class="section" id="id6">
<h2>2.2.1 (2010-04-07)<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Actions and TypeInformation: Clear the compiled NNN_expr_object
property when the NNN_expr property is cleared.</li>
<li>Actions: Return None if &#8216;link_target&#8217; is an empty string.
This helps to avoid invalid empty &#8216;target&#8217; attributes in HTML output.</li>
</ul>
</div>
<div class="section" id="id7">
<h2>2.2.0 (2010-01-04)<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Changed GenericSetup import handlers to fail silently if they
are called in a context that does not contain the items they
import.</li>
</ul>
</div>
<div class="section" id="beta-2009-12-06">
<h2>2.2.0-beta (2009-12-06)<a class="headerlink" href="#beta-2009-12-06" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>TypesTool: Made it an ordered container.
This allows to control the order of the add actions.</li>
<li>TypeInformation: Removed redundant &#8216;content_icon&#8217; property.
For backwards compatibility old settings containing &#8216;content_icon&#8217; instead
of &#8216;icon_expr&#8217; are converted on import. CMFDefault provides the necessary
upgrade steps for migrating existing sites.</li>
<li>DynamicType: Added &#8216;getIconURL&#8217; method.
This replaces the now deprecated &#8216;getIcon&#8217; method.</li>
<li>TypeInformation: Added &#8216;getIconExprObject&#8217; method.
This replaces the now deprecated &#8216;getIcon&#8217; method.</li>
</ul>
</div>
<div class="section" id="alpha-2009-11-13">
<h2>2.2.0-alpha (2009-11-13)<a class="headerlink" href="#alpha-2009-11-13" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Got rid of redundant icon related type info properties.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/397795">https://bugs.launchpad.net/zope-cmf/+bug/397795</a>)</p>
</li>
<li><p class="first">PortalFolder: Ensure that pasting an object into a folder takes
workflow instance creation conditions into account.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/308947">https://bugs.launchpad.net/zope-cmf/+bug/308947</a>)</p>
</li>
<li><p class="first">Made calls to reindexObjectSecurity in the membership tool conditional
after the CMFCatalogAware refactoring.</p>
</li>
<li><p class="first">PortalFolder: Removed unused ICatalogAware and IWorkflowAware methods.</p>
</li>
<li><p class="first">CMFCatalogAware: Split up CMFCatalogAware mixin.
CatalogAware, WorkflowAware and OpaqueItemManager are now separate mixins.</p>
</li>
<li><p class="first">Changed testing.py to directly load zope.traversing&#8217;s ZCML instead of going
via the Five traversing.zcml BBB shim.</p>
</li>
<li><p class="first">moved the Zope dependency to version 2.12.0b3dev</p>
</li>
<li><p class="first">PortalFolder: Modified allowedContentTypes method to check
isConstructionAllowed only for allowed types, not for all content types.</p>
</li>
<li><p class="first">Fixed typo in the acquisition wrapping of the found utility in
getToolByName.</p>
</li>
<li><p class="first">Actions: Add a link_target attribute to store a value for the
final rendered link tag&#8217;s &#8220;target&#8221; attribute
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/376951">https://bugs.launchpad.net/zope-cmf/+bug/376951</a>)</p>
</li>
<li><p class="first">MemberData tool: Make it easier to override the default
MemberData implementation by trying to look up a named
factory utility named &#8220;MemberData&#8221; before falling back on the
default MemberData class.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/377208">https://bugs.launchpad.net/zope-cmf/+bug/377208</a>)</p>
</li>
<li><p class="first">FSPageTemplate: Change the charset/encoding detection to consider
charset specifications in the content type, and replace the
hardcoded Latin-15 fallback with the mechanism used by the
Products.PageTemplate code, which can be influenced by setting
the environment variable &#8220;ZPT_PREFERRED_ENCODING&#8221;
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/322263">https://bugs.launchpad.net/zope-cmf/+bug/322263</a>)</p>
</li>
<li><p class="first">Expose the ZMI manage view of the &#8220;_components&#8221; object manager as
a new &#8220;Components Folder&#8221; tab in the ZMI.</p>
</li>
<li><p class="first">ActionsTool: The &#8220;Action Providers&#8221; tab in the ZMI did not render
actions from the WorkflowTool correctly since those are not
&#8216;new-style&#8217; actions.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/322300">https://bugs.launchpad.net/zope-cmf/+bug/322300</a>)</p>
</li>
<li><p class="first">FSPageTemplate: Prevent reading the underlying file without doing
anything with the data in some cases.</p>
</li>
<li><p class="first">FSObject: Ensure that ZCache invalidations only happens if the
filesystem modification time differs from the internally stored
previous modification time.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/325246">https://bugs.launchpad.net/zope-cmf/+bug/325246</a>)</p>
</li>
<li><p class="first">TypeInformation: DCWorkflow instances define a method and a guard
for vetoing object creation, but it was never used. Now
TypeInformation objects will consult these guard conditions during
object creation.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/308947">https://bugs.launchpad.net/zope-cmf/+bug/308947</a>)</p>
</li>
<li><p class="first">PortalCatalog: Changed to use a multi-adaptor to allow a pluggable
IndexableObjectWrapper class.  Objects that implement IIndexableObject
are not wrapped.  The change will assist in integrating with
other indexing strategies from third-party packages.</p>
</li>
<li><p class="first">Events: Changed &#8216;handleContentishEvent&#8217; behavior for IObjectCopiedEvent.
&#8216;WorkflowTool.notifyCreated&#8217; no longer resets the workflow state, so the
the event subscriber clears the workflow history instead.</p>
</li>
<li><p class="first">WorkflowTool: &#8216;notifyCreated&#8217; no longer overrides assigned workflow states.</p>
</li>
<li><p class="first">No longer catch a <cite>NotImplemented</cite> string exception in the MembershipTool
in deleteMembers.</p>
</li>
<li><p class="first">Cleaned up / normalized imports:</p>
<p>o Don&#8217;t import from Globals;  instead, use real locations.</p>
<dl class="docutils">
<dt>o Make other imports use the actual source module, rather than an</dt>
<dd><p class="first last">intermediate (e.g., prefer importing &#8216;ClassSecurityInfo&#8217; from
&#8216;AccessControl.SecurityInfo&#8217; rather than from &#8216;AccessControl&#8217;).</p>
</dd>
</dl>
<p>o Avoid relative imports, which will break in later versions of Python.</p>
</li>
<li><p class="first">Added <cite>icon_expr</cite> as a new property to type information. This allows you
to specify the <cite>content_icon</cite> as an expression and store it. This avoids
creating the expression on the fly at rendering time.</p>
</li>
<li><p class="first">Removed superGetAttr fallback from SkinnableObjectManager. None of its base
classes have a <cite>__getattr__</cite> method anymore.</p>
</li>
<li><p class="first">PortalObject: Removed backwards compatibility code in getSiteManager.
Please use CMFDefault&#8217;s upgrade steps for upgrading old CMF sites.</p>
</li>
<li><p class="first">Fixed compatibility with non-string exceptions on Zope trunk.</p>
</li>
<li><p class="first">Added remove support to GenericSetup types tool exportimport handler.</p>
</li>
<li><p class="first">FiveActionsTool: Removed the tool and all functionality for bridging
between Zope 3-style menu items and CMF actions. The CMF has been going
a different route for a long time and the code is unused and
unmaintained.</p>
</li>
<li><p class="first">Actions: Added deprecation warnings to the ZMI actions tab and
most listActions methods where old-style actions are found
asking developers to move to new-style actions instead. These
warnings allow us to remove old-style actions code by version 2.4.</p>
</li>
<li><p class="first">Discussion tool: Removed the listActions method that would return
a hardcoded Reply action. This action has been handled by the
Actions tool itself for a while now, and the Discussions tool was
not set as an action provider anymore.</p>
</li>
<li><p class="first">actions tool export/import: The actions tool export/import mechanism
is no longer attempting to handle actions stored on tools other than
itself. Other tools are themselves responsible for their actions.
The importer has been fixed to add all action providers to the actions
tool, not just a select list of providers we know about.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/177675">https://bugs.launchpad.net/zope-cmf/+bug/177675</a>)</p>
</li>
<li><p class="first">tool interfaces: Replace non-existing IMember interface with the
correct IMemberData.</p>
</li>
<li><p class="first">CatalogTool: If proxy roles are set on a script that uses the catalog
and those proxy roles have been unset using the ZMI, which results
in an empty tuple as proxy roles, then the catalog would not correctly
determine what the current user is allowed to see.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/161729">https://bugs.launchpad.net/zope-cmf/+bug/161729</a>)</p>
</li>
<li><p class="first">Properties export/import: Get the string encoding for property
imports from the import context and fall back to UTF-8, which
mirrors the behavior for exports. This fixes property export/import
round tripping.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/248853">https://bugs.launchpad.net/zope-cmf/+bug/248853</a>)</p>
</li>
<li><p class="first">traversal: Added ++add++ namespace for add views.</p>
</li>
<li><p class="first">Skinstool import: Fix imports that manipulate existing skins.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/161732">https://bugs.launchpad.net/zope-cmf/+bug/161732</a>)</p>
</li>
<li><p class="first">ActionInformation: extend the ActionInformation and ActionInfo classes
to support a icon URL just like the newer Action class already does</p>
</li>
<li><p class="first">WorkflowTool: Passing the &#8220;magic&#8221; chain name &#8220;(Default)&#8221; to the
setChainForPortalTypes method did not set the chain to the default
chain value as expected.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/161702">https://bugs.launchpad.net/zope-cmf/+bug/161702</a>)</p>
</li>
<li><p class="first">ZMI: Prevent users from creating content through the ZMI by hiding the
entry for &#8220;CMFCore Content&#8221;.</p>
</li>
<li><p class="first">utils: Add a new optional argument to ContentInit that allows hiding
a content item&#8217;s ZMI add list entry. The default is to leave the item
visible, which reflects the previous behavior.</p>
</li>
<li><p class="first">FSMetadata: Remove handling of .security and .properties metadata
files which was supposed to have been removed in CMF 2.0 already.</p>
</li>
<li><p class="first">SkinsTool: Added the ability to do a diff comparison between items
found using the portal_skins &#8220;Find&#8221; ZMI tab.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/238489">https://bugs.launchpad.net/zope-cmf/+bug/238489</a>)</p>
</li>
<li><p class="first">TypeInformation and TypesTool: Added support for add view actions.
Type infos now have a new &#8216;add_view_expr&#8217; property and implement IAction.
&#8216;listActions&#8217; of the types tool includes type infos as &#8216;add&#8217; actions.</p>
</li>
<li><p class="first">interfaces: Fixed some docstrings.
There is no IActionInformation. ActionInformation is an old action class
that implements IAction, non-persistent IActionInfo objects adapt action
objects to a given context.</p>
</li>
<li><p class="first">FSSTXMethod: Fixed Zope 2.12 compatibility.
zope.structuredtext is now used instead of StructuredText.</p>
</li>
<li><p class="first">removed the five.localsitemanager svn:external and its import hack
in favor of stating the dependency for separate installation in
DEPENDENCIES.txt and automatic installation in setup.py.</p>
</li>
<li><p class="first">TypesTool: Refactored content creation.
Moved addCreator call to IObjectCreatedEvent handler and moved
notifyWorkflowCreated and indexObject calls to IObjectAddedEvent handler.
Please make sure all oldstyle content factory methods use _setObject with
suppress_events=True. CMF factory methods don&#8217;t finish object creation,
so they should not send the IObjectAddedEvent.</p>
</li>
<li><p class="first">interfaces: Added new interfaces for CMFCatalogAware methods.
In the long run ICatalogAware, IWorkflowAware and IOpaqueItemManager will
become deprecated. Don&#8217;t expect that CMF content always implements them.</p>
</li>
<li><p class="first">setup handlers: All import and export steps are now registered globally.</p>
</li>
<li><p class="first">MembershipTool: Removed ancient LoginManager compatibility code and
deprecated the no longer needed __getPUS method.</p>
</li>
<li><p class="first">interfaces: Removed deprecated oldstyle interfaces.</p>
</li>
</ul>
</div>
<div class="section" id="id8">
<h2>2.1.2 (2008-09-13)<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>fiveactionstool: fix typo in a method name that isn&#8217;t even used in the CMF
or Plone.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/257259">https://bugs.launchpad.net/zope-cmf/+bug/257259</a>)</li>
</ul>
</div>
<div class="section" id="beta-2008-08-26">
<h2>2.1.2-beta (2008-08-26)<a class="headerlink" href="#beta-2008-08-26" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>completed devolution from monolithic CMF package into its component
products that are distributed as eggs from PyPI.</li>
</ul>
</div>
<div class="section" id="id9">
<h2>2.1.1 (2008-01-06)<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>exportimport.content: Add simple guard against import failures when
the &#8221;.objects&#8221; file contains empty lines.
(<a class="reference external" href="https://bugs.launchpad.net/zope-cmf/+bug/176328">https://bugs.launchpad.net/zope-cmf/+bug/176328</a>)</li>
</ul>
</div>
<div class="section" id="beta-2007-12-29">
<h2>2.1.1-beta (2007-12-29)<a class="headerlink" href="#beta-2007-12-29" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Testing: Derive test layers from ZopeLite layer if available.</li>
<li>Updated to the 0.3 release of five.localsitemanager.</li>
<li>Events: Fixed some handleContentishEvent issues.
Moved _clearLocalRolesAfterClone code to separate handler that is
triggered before indexing and also for folders. Made sure notifyModified
is not called if objects are just moved.</li>
<li>PortalObject: Added setSite to getSiteManager for old instances. This
fixes migrations from Plone 2.1 to 3.0.</li>
<li>FSImage: Supply class-level defaults for &#8216;alt&#8217;, &#8216;height&#8217;, and &#8216;width&#8217;,
to avoid acquiring objects with the same names.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/507">http://www.zope.org/Collectors/CMF/507</a>)</li>
<li>Testing: Derive test layers from ZopeLite layer if available.</li>
<li>PortalObject: Fixed a bug in the site manager creation code, which would
assign the __parent__ pointer to the Aq-wrapper and not the actual
object.</li>
</ul>
</div>
<div class="section" id="id10">
<h2>2.1.0 (2007-08-08)<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed all componentregistry.xml files to use plain object paths and strip
and slashes. GenericSetup does only support registering objects which are
in the site root.</li>
<li>PortalFolder: Enabled &#8216;Components&#8217; ZMI tab.
This GenericSetup tab allows to inspect and edit component registrations.</li>
<li>First egg release.  For changes up through this release, please see
the overall &#8220;CMF changelog&#8221;,
<a class="reference external" href="http://svn.zope.org/CMF/tags/2.1.0/CHANGES.txt?rev=78713&amp;view=markup">http://svn.zope.org/CMF/tags/2.1.0/CHANGES.txt?rev=78713&amp;view=markup</a></li>
</ul>
</div>
<div class="section" id="beta2-2007-07-12">
<h2>2.1.0-beta2 (2007-07-12)<a class="headerlink" href="#beta2-2007-07-12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>moved the Zope dependency to version 2.10.4</li>
<li>Remove antique usage of marker attributes in favor of interfaces,
leaving BBB behind for places potentially affecting third-party code.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/440">http://www.zope.org/Collectors/CMF/440</a>)</li>
<li>Add POST-only protections to security critical methods.
<a class="reference external" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-0240">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-0240</a>)</li>
<li>exportimport.skins: Added the ability to remove whole skin selections using a
GS profile.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/479">http://www.zope.org/Collectors/CMF/479</a>)</li>
<li>UndoTool: Fixed &#8216;listUndoableTransactionsFor&#8217;.
The required &#8216;object&#8217; argument is now respected. This doesn&#8217;t change the
behavior as long as &#8216;object&#8217; is the site root object.</li>
<li>TypesTool: Corrected method signature of all_meta_types to have
an interface keyword argument, as per the underlying OFS.ObjectManager
interface declaration.</li>
<li>SkinnableObjectManager: Changed the way skins are set up.
Acquisition wrapping no longer triggers &#8216;setupCurrentSkin&#8217;. This is now
done on publishing traversal after the BeforeTraverseEvent triggers
&#8216;setSite&#8217;. This fix replaces a temporary hack introduced in 2.1.0-beta,
making sure ISkinsTool is looked up after setting the site.</li>
<li>CMFBTreeFolder: CMFBTreeFolders could not be used as the
toplevel /Members container.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/441">http://www.zope.org/Collectors/CMF/441</a>)</li>
<li>TypesTool: Pass &#8216;object&#8217; through to TypeInformation objects&#8217;
&#8216;listActions&#8217;.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/482">http://www.zope.org/Collectors/CMF/482</a>)</li>
<li>Removed extraneous &#8220;Cache&#8221; tab from FS-based skin objects.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/343">http://www.zope.org/Collectors/CMF/343</a>)</li>
<li>WorkflowTool: Using the &#8216;(Default)&#8217; keyword for a type&#8217;s
workflow chain will now reset any custom workflow chains for the type.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/475">http://www.zope.org/Collectors/CMF/475</a>)</li>
<li>SkinsTool: Use the property API to get the member specific skin,
because direct attribute access won&#8217;t work with PAS based membership.
(<a class="reference external" href="http://dev.plone.org/plone/ticket/5904">http://dev.plone.org/plone/ticket/5904</a>)</li>
<li>Allow customization from DirectoryViews to be redirected into
alternate folders, and use manually-built clones.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/382">http://www.zope.org/Collectors/CMF/382</a>)</li>
</ul>
</div>
<div class="section" id="beta-2007-03-09">
<h2>2.1.0-beta (2007-03-09)<a class="headerlink" href="#beta-2007-03-09" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>moved the Zope dependency to verson 2.10.2</li>
<li>Tool lookup and registration is now done &#8220;the Zope 3 way&#8221; as utilities, see
<a class="reference external" href="http://svn.zope.org/CMF/branches/2.1/docs/ToolsAreUtilities.stx?view=auto">http://svn.zope.org/CMF/branches/2.1/docs/ToolsAreUtilities.stx?view=auto</a></li>
<li>DirectoryView: Added &#8216;registerDirectory&#8217; ZCML directive.
Using the old registerDirectory method in __init__.py is now deprecated.
See zcml.IRegisterDirectoryDirective for details.</li>
<li>DirectoryView: Added support for non-product packages.
This introduces new registry keys. Old registry keys stored in
persistent DirectoryView objects are updated on the fly.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/467">http://www.zope.org/Collectors/CMF/467</a>)</li>
<li>setup handlers: Improved properties handler.
It now works with properties using a default_charset other than UTF-8.</li>
<li>MembershipTool: Fixed inconsistent behavior where member lookup
would take all user folders up to the Zope root into account whereas
member area creation would not.</li>
<li>MembershipTool: when using an object without a __nonzero__ but with a
__len__ (ala CMFBTreeFolder) as a member folder, the createMemberArea
method would believe there was no members folder if the folder was
empty, and so would fail (change &#8220;not membersfolder&#8221; to
&#8220;membersfolder is not None&#8221;) .</li>
<li>DynamicType: Fixed behaviour regarding default view.
DynamicType was making it impossible to use a Zope3-style
default view for CMF content types.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/459">http://www.zope.org/Collectors/CMF/459</a>)</li>
<li>utils: Marked &#8216;minimalpath&#8217; and &#8216;expandpath&#8217; as deprecated.</li>
<li>Merged patches from Martin Aspeli to enable generating events before
and after DCWorkflow transitions, and in the &#8216;notify&#8217; methods of the
workflow tool (<a class="reference external" href="http://www.zope.org/Collectors/CMF/461">http://www.zope.org/Collectors/CMF/461</a>).</li>
</ul>
</div>
<div class="section" id="alpha2-2006-11-23">
<h2>2.1.0-alpha2 (2006-11-23)<a class="headerlink" href="#alpha2-2006-11-23" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>moved the Zope dependency to version 2.10.1</li>
<li>Fixed test breakage induced by use of Z3 pagetemplates in Zope 2.10+.</li>
<li>browser views: Added some zope.formlib based forms.</li>
<li>testing: Added test layers for setting up ZCML.</li>
<li>WorkflowTool: Added the IConfigurableWorkflowTool interface.
This change includes the new &#8216;getDefaultChain&#8217; and &#8216;listChainOverrides&#8217;
methods and an improved &#8216;setChainForPortalTypes&#8217; method. The import
handler now supports the &#8216;remove&#8217; attribute for removing overrides.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/457">http://www.zope.org/Collectors/CMF/457</a>)</li>
<li>CachingPolicyManager: Implemented the old OFS.Cache.CacheManager
API. Now objects other than CMF content or CMF templates can have their
caching headers set by the caching policy manager with the same
fine-grained control.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/408">http://www.zope.org/Collectors/CMF/408</a>)</li>
<li>Added CMFCore.FSRestMethod:  ReST equivalent of FSSTXMethod.</li>
<li>FSSTXMethod:  Modernized, added tests, made customization
possible (now renders via ZPT by default, using &#8216;main_template&#8217;).</li>
<li>CachingPolicyManager: Prevent firing of caching policies
for templates (DTML or ZPT) that are rendered in-line (without a
separate request) while rendering the requested content item&#8217;s view.
(<a class="reference external" href="http://www.zope.org/Collectors/CMF/456">http://www.zope.org/Collectors/CMF/456</a>)</li>
</ul>
</div>
<div class="section" id="alpha-2006-10-09">
<h2>2.1.0-alpha (2006-10-09)<a class="headerlink" href="#alpha-2006-10-09" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>skins: Changed encoding of translated portal_status_messages.
Now getBrowserCharset is used to play nice with Five forms. Customized
setRedirect and getMainGlobals scripts have to be updated.</li>
<li>Profiles: All profiles are now registered by ZCML.</li>
<li>ZClasses: Removed unmaintained support for ZClasses.
Marked the &#8216;initializeBases*&#8217; methods as deprecated.</li>
<li>Content: Added IFactory utilities for all content classes.
They are now used by default instead of the old constructor methods.</li>
<li>Content: All content classes are now registered by ZCML.
ContentInit is still used to register oldstyle constructors.</li>
<li>setup handlers: Removed support for CMF 1.5 CMFSetup profiles.</li>
<li>FactoryTypeInformation: Added support for Zope3 style factories.
If the &#8216;product&#8217; property of a type info instance is empty the &#8216;factory&#8217;
property is interpreted as an IFactory name.</li>
<li>ActionInformation: don&#8217;t use a fixed set of properties for
ActionInformation. (<a class="reference external" href="http://www.zope.org/Collectors/CMF/232/">http://www.zope.org/Collectors/CMF/232/</a>)</li>
<li>CatalogTool: Use current executable&#8217;s proxy roles, if any,
in place of user&#8217;s roles when computing &#8216;allowedRolesAndUsers&#8217; for
a query. (<a class="reference external" href="http://www.zope.org/Collectors/CMF/380">http://www.zope.org/Collectors/CMF/380</a>)</li>
<li>FSFile: Added registration for &#8216;txt&#8217; extension.</li>
<li>CMFCatalogAware: Added &#8216;handleObjectEvent&#8217; subscriber.
This replaces the deprecated &#8216;manage_afterAdd&#8217;, &#8216;manage_afterClone&#8217; and
&#8216;manage_beforeDelete&#8217; hooks.</li>
</ul>
</div>
<div class="section" id="earlier-releases">
<h2>Earlier releases<a class="headerlink" href="#earlier-releases" title="Permalink to this headline">¶</a></h2>
<p>For a complete list of changes before version 2.1.0-alpha, see the HISTORY.txt
file on the CMF-2.1 branch:
<a class="reference external" href="http://svn.zope.org/CMF/branches/2.1/HISTORY.txt?view=auto">http://svn.zope.org/CMF/branches/2.1/HISTORY.txt?view=auto</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Products.CMFCore Changelog</a><ul>
<li><a class="reference internal" href="#b1-2017-05-04">2.4.0b1 (2017-05-04)</a></li>
<li><a class="reference internal" href="#id1">2.3.0 (2015-02-20)</a></li>
<li><a class="reference internal" href="#beta2-2012-03-31">2.3.0-beta2 (2012-03-31)</a></li>
<li><a class="reference internal" href="#beta-2012-03-21">2.3.0-beta (2012-03-21)</a></li>
<li><a class="reference internal" href="#id2">2.2.5 (2011-11-01)</a></li>
<li><a class="reference internal" href="#id3">2.2.4 (2011-04-02)</a></li>
<li><a class="reference internal" href="#id4">2.2.3 (2010-10-31)</a></li>
<li><a class="reference internal" href="#id5">2.2.2 (2010-07-04)</a></li>
<li><a class="reference internal" href="#id6">2.2.1 (2010-04-07)</a></li>
<li><a class="reference internal" href="#id7">2.2.0 (2010-01-04)</a></li>
<li><a class="reference internal" href="#beta-2009-12-06">2.2.0-beta (2009-12-06)</a></li>
<li><a class="reference internal" href="#alpha-2009-11-13">2.2.0-alpha (2009-11-13)</a></li>
<li><a class="reference internal" href="#id8">2.1.2 (2008-09-13)</a></li>
<li><a class="reference internal" href="#beta-2008-08-26">2.1.2-beta (2008-08-26)</a></li>
<li><a class="reference internal" href="#id9">2.1.1 (2008-01-06)</a></li>
<li><a class="reference internal" href="#beta-2007-12-29">2.1.1-beta (2007-12-29)</a></li>
<li><a class="reference internal" href="#id10">2.1.0 (2007-08-08)</a></li>
<li><a class="reference internal" href="#beta2-2007-07-12">2.1.0-beta2 (2007-07-12)</a></li>
<li><a class="reference internal" href="#beta-2007-03-09">2.1.0-beta (2007-03-09)</a></li>
<li><a class="reference internal" href="#alpha2-2006-11-23">2.1.0-alpha2 (2006-11-23)</a></li>
<li><a class="reference internal" href="#alpha-2006-10-09">2.1.0-alpha (2006-10-09)</a></li>
<li><a class="reference internal" href="#earlier-releases">Earlier releases</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Products.CMFCore</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api/tools.html"
                        title="next chapter">Tool API Reference</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/changes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api/tools.html" title="Tool API Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Products.CMFCore"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Products.CMFCore 2.4.0b1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010-2017, CMF Developers.
      Last updated on May 04, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.5.
    </div>
  </body>
</html>