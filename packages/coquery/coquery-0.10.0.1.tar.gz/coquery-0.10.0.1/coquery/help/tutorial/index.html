<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Coquery Documentation: Tutorial &mdash; Coquery 0.9 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Coquery 0.9 documentation" href="../index.html" />
    <link rel="next" title="Users manual" href="../userguide/index.html" />
    <link rel="prev" title="Coquery documentation" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/logo_small.png" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="../index.html">Coquery 0.9 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="../index.html" title="Coquery documentation"
             accesskey="P">previous</a> |
          <a href="../userguide/index.html" title="Users manual"
             accesskey="N">next</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="toctree-wrapper compound" id="tutorial">
<ul class="simple">
</ul>
</div>
<div class="section" id="id1">
<h1>Tutorial</h1>
<p>This tutorial will guide you through your first session using Coquery.
You will install a corpus, run a query on that corpus, and visualize
the results.</p>
<p>At the end of this tutorial, you will have solved the following task:</p>
<ul class="simple">
<li>Visualize the occurrences of ten key characters in the twelve chapters
of <em>Alice&#8217;s Adventures in Wonderland</em> by Lewis Carroll</li>
</ul>
<div class="section" id="starting-coquery">
<h2>Starting Coquery</h2>
<p>Follow the steps described in <span class="xref std std-ref">download</span> to install Coquery. Once
installed, either choose the Coquery icon from the Applications menu (if you
used the binary installer), or open a terminal, change to the directory
containing the Coquery files, and type <code class="docutils literal"><span class="pre">./coquery.py</span></code> (if you are on
Linux or Mac OS X) or <code class="docutils literal"><span class="pre">python</span> <span class="pre">coquery.py</span></code> (if you are on Windows).
the main interface will open:</p>
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../_images/coquery_empty.png"><img alt="../_images/coquery_empty.png" src="../_images/coquery_empty.png" style="width: 444.5px; height: 417.0px;" /></a>
<p class="caption"><span class="caption-text">The main interface when launching Coquery for the first time.</span></p>
</div>
<p>Most of the functions in the main interface are inactive. This is so because
there is no corpus available yet. So, we should change that by building our
first corpus.</p>
</div>
<div class="section" id="building-the-alice-corpus">
<h2>Building the ALICE corpus</h2>
<p>The twelve chapters of <em>Alice&#8217;s Adventures in Wonderland</em> by Lewis Carroll
(available from <a class="reference external" href="http://www.gutenberg.org/cache/epub/11/pg11.txt">Project Gutenberg</a>)
are already provided as text files by Coquery in the the subdirectory
<code class="docutils literal"><span class="pre">texts/alice</span></code> of the installation directory. We will use these text files
to build the ALICE corpus.</p>
<p>First, select &#8216;Corpus manager` from the &#8216;Corpus&#8217; menu. The corpus manager
dialog will open:</p>
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/corpus_manager_empty.png"><img alt="../_images/corpus_manager_empty.png" src="../_images/corpus_manager_empty.png" style="width: 442.0px; height: 353.5px;" /></a>
<p class="caption"><span class="caption-text">The corpus manager.</span></p>
</div>
<p>Now, click on the green &#8216;Add&#8217; button <a class="reference internal" href="../../coquery/icons/small-n-flat/PNG/sign-add.png"><img alt="add" src="../../coquery/icons/small-n-flat/PNG/sign-add.png" style="height: 12px;" /></a> on the entry labelled &#8216;Build new
corpus...&#8217; to open the Corpus builder:</p>
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../_images/corpus_builder.png"><img alt="../_images/corpus_builder.png" src="../_images/corpus_builder.png" style="width: 364.0px; height: 275.0px;" /></a>
<p class="caption"><span class="caption-text">The corpus builder.</span></p>
</div>
<p>The path to the <em>Alice</em> text files is already set up correctly. Type in the
name of the new corpus: ALICE, and click on &#8216;Build&#8217;. The corpus builder will take a few moments to load the texts
from the file into the new corpus. When finished, you will see an entry ALICE
under &#8216;User corpora&#8217; in the corpus manager. You can click on the entry to see
a corpus overview.</p>
<p>When you are finished, close the corpus manager window.</p>
</div>
<div class="section" id="getting-a-frequency-list">
<h2>Getting a frequency list</h2>
<p>You will notice that now that the ALICE corpus is installed, many more
functions in the main interface have become active.</p>
<p>In order to get a frequency list for the words in the ALICE corpus, enter a
single asterisk &#8216;*&#8217; (without quotation marks) into the query string entry
field. The asterisk is a wild card that matches any orthographic word in the
corpus:</p>
<div class="figure" id="id5">
<a class="reference internal image-reference" href="../_images/tutorial_query_string_asterisk.png"><img alt="../_images/tutorial_query_string_asterisk.png" src="../_images/tutorial_query_string_asterisk.png" style="width: 159.5px; height: 161.5px;" /></a>
<p class="caption"><span class="caption-text">A query string matching any orthographic word.</span></p>
</div>
<p>Next, activate the &#8216;Frequency&#8217; aggregation so that the query results will be
arranged in the form of a frequency list:</p>
<div class="figure" id="id6">
<a class="reference internal image-reference" href="../_images/tutorial_aggregation_frequency.png"><img alt="../_images/tutorial_aggregation_frequency.png" src="../_images/tutorial_aggregation_frequency.png" style="width: 59.5px; height: 85.0px;" /></a>
<p class="caption"><span class="caption-text">Activating the Frequency aggregation.</span></p>
</div>
<p>Now, run your first query by clicking the &#8216;<a class="reference internal" href="../../coquery/icons/small-n-flat/PNG/go.png"><img alt="go" src="../../coquery/icons/small-n-flat/PNG/go.png" style="height: 12px;" /></a> Query&#8217; button. After a few
moments, a frequency list will be shown in the query results table:</p>
<div class="figure" id="id7">
<a class="reference internal image-reference" href="../_images/tutorial_results_table.png"><img alt="../_images/tutorial_results_table.png" src="../_images/tutorial_results_table.png" style="width: 400.5px; height: 191.0px;" /></a>
<p class="caption"><span class="caption-text">The frequency table from the ALICE corpus.</span></p>
</div>
<p>The status bar informs you that the query matched 33486 tokens. The results
table uses the Frequency aggregation, which returns 2787 data rows. This means
that the 33486 tokens in the ALICE corpus are split across 2787 different
types.</p>
<p>As you can see in the results table, there are 12 tokens of the word <em>chapter</em>,
400 tokens of the word <em>i</em>, 985 tokens of the full stop, and so on.</p>
<p>The current order of types is in the order of appearance in the corpus. You
can sort the results table by right-clicking on a table header, and selecting
a sorting option from the context menu. If you want to see the most frequent
types on top of the results table, select a descending sort order:</p>
<div class="figure" id="id8">
<a class="reference internal image-reference" href="../_images/tutorial_sort_descending.png"><img alt="../_images/tutorial_sort_descending.png" src="../_images/tutorial_sort_descending.png" style="width: 125.5px; height: 191.5px;" /></a>
<p class="caption"><span class="caption-text">Selecting a descending sorting order for the column Frequency.</span></p>
</div>
<p>The results table will be rearranged instantly. To no great surprise, the
comma and the quotation mark are the most frequent types in ALICE, followed
by the definite article <em>the</em>, the full stop, and the conjunction <em>and</em>. With
a female protagonist, <em>she</em> also ranks relatively high at rank eight. The name
<em>Alice</em> appears at rank 14.</p>
<p>You can save the results table by calling &#8216;Save results&#8217; from the File menu.
The table is saved as a comma-separated (CSV) file.</p>
</div>
<div class="section" id="contingency-tables">
<h2>Contingency tables</h2>
<p>In the second part of our tutorial task, we want to find out in which
chapters from <em>Alice&#8217;s Adventures in Wonderland</em> the ten key characters are
mentioned.</p>
<p>However, there is a small problem: as the ALICE corpus doesn&#8217;t contain any
metadata, there is no straightforward way of identifying key characters
automatically. We solve this problem by assuming that in a story like <em>Alice&#8217;s
Adventures</em>, the important characters will be referred to by animate nouns,
and that the frequency of the nouns will reflect their importance for the
story.</p>
<p>Thus, we go through the sorted word frequency list and find the ten most
frequent animate nouns (this excludes, for instance, <em>way</em>, <em>thing</em>, and
<em>voice</em>).We enter these nouns as new query strings, each word on a separate
line (actually, I cheated and entered the <strong>eleven</strong> most frequent animate
nouns, only because the <em>Cheshire cat</em> was always my favourite character from
the book):</p>
<div class="figure" id="id9">
<a class="reference internal image-reference" href="../_images/tutorial_animate_nouns.png"><img alt="../_images/tutorial_animate_nouns.png" src="../_images/tutorial_animate_nouns.png" style="width: 157.5px; height: 154.5px;" /></a>
<p class="caption"><span class="caption-text">The eleven most frequent animate nouns in ALICE as query strings.</span></p>
</div>
<p>Before we run a new query to get the matches for these query strings, we have
to indicate that we also want to include the chapter information in our query
result table. We do this by selecting the output column &#8216;Filename&#8217; from the
&#8216;Files&#8217; table. We use the &#8216;Output column&#8217; tree in the upper right corner of
the main interface for that:</p>
<div class="figure" id="id10">
<a class="reference internal image-reference" href="../_images/tutorial_output_columns.png"><img alt="../_images/tutorial_output_columns.png" src="../_images/tutorial_output_columns.png" style="width: 140.0px; height: 155.0px;" /></a>
<p class="caption"><span class="caption-text">The &#8216;Output column&#8217; tree with &#8216;Word&#8217; and &#8216;Filename&#8217; selected.</span></p>
</div>
<p>As you can see in the figure, the checkboxes next to &#8216;Word&#8217; and &#8216;Filename&#8217; are
ticked. This means that the query will include the information from these two
columns in the results table. &#8216;Word&#8217; was ticked by default, which is why the
result table contained the Word column in the first place.</p>
<p>Now, with &#8216;Word&#8217; and &#8216;Filename&#8217; selected, click the &#8216;<a class="reference internal" href="../../coquery/icons/small-n-flat/PNG/go.png"><img alt="go" src="../../coquery/icons/small-n-flat/PNG/go.png" style="height: 12px;" /></a> Query&#8217; button to
run a new query. If you followed all steps from the tutorial, your new results
table should look like this:</p>
<div class="figure" id="id11">
<a class="reference internal image-reference" href="../_images/tutorial_results_table_filename.png"><img alt="../_images/tutorial_results_table_filename.png" src="../_images/tutorial_results_table_filename.png" style="width: 395.0px; height: 189.5px;" /></a>
<p class="caption"><span class="caption-text">A frequency table for eleven nouns, summarized by &#8216;Filename&#8217;.</span></p>
</div>
<p>Apparently, <em>alice</em> occurs 50 times in chapter 7, 47 times in chapter 9, and
so on. You can change the presentation of the frequency table by changing to
the Contingency aggregation:</p>
<div class="figure" id="id12">
<a class="reference internal image-reference" href="../_images/tutorial_results_table_contingency.png"><img alt="../_images/tutorial_results_table_contingency.png" src="../_images/tutorial_results_table_contingency.png" style="width: 395.0px; height: 189.5px;" /></a>
<p class="caption"><span class="caption-text">The contingency table for the last query.</span></p>
</div>
<p>In this contingency table, each row corresponds to one noun from the query
strings, and each column corresponds to one chapter. We can quickly see for
instance that <em>alice</em> is relatively frequent in all chapters, but <em>mouse</em>
is mentioned mostly in chapters 2 and 3.</p>
<p>You can switch between the different aggregations without having to run the
query again. This can be very useful if you are working wiht corpora that are
much bigger than ALICE, as queries can easily take a few minutes or more. For
a detailled description of the different aggregations, see <a class="reference internal" href="../userguide/aggregations.html#aggregations"><span>Aggregations</span></a>
in the <a class="reference internal" href="../userguide/index.html#users"><span>Users manual</span></a>.</p>
</div>
<div class="section" id="visualizing-the-results">
<h2>Visualizing the results</h2>
<p>The frequency table and the contingency table can already tell us a lot about
the distribution of the key characters within the <em>Alice</em> story, but by making
use of the visualization capabilities of Coquery, we can learn much more.</p>
<p>One particularly useful visualization for analysing token occurrences across a
corpus is the &#8216;Barcode plot&#8217; (users of <a class="reference external" href="http://www.laurenceanthony.net/software/antconc/">AntConc</a> will know a similar type of
visualization as &#8216;concordance plots&#8217;). We can create a barcode plot for the
last query with the two output columns &#8216;Word&#8217; and &#8216;Filename&#8217; by calling
&#8216;Barcode plot&#8217; from the &#8216;Corpus location&#8217; submenu of the &#8216;Visualizations&#8217;
menu. After a brief moment, the following visualization window will appear:</p>
<div class="figure" id="id13">
<a class="reference internal image-reference" href="../_images/barcode_alice.png"><img alt="../_images/barcode_alice.png" src="../_images/barcode_alice.png" style="width: 442.0px; height: 353.5px;" /></a>
<p class="caption"><span class="caption-text">A barcode plot showing the occurrences of each different noun.</span></p>
</div>
<p>As you can see, the plot is actually composed of several subplots, one for
each noun in the query string list. Each vertical line in the subplots
corresponds to one token in the query results table. The horizontal position
is the position within the corpus, and the vertical position is the chapter
that contains the token. Files are also color-coded so that the same color in
different subplots corrensponds to the same chapter.</p>
<p>It is easy to see that <em>alice</em> tokens occur frequently in all chapters.
<em>Turtle</em> and <em>gryphon</em> tokens occur only in chapters 10 and 11, and no other
key character apart from alice occurs in these chapters (apart from with brief
appearances of <em>queen</em>, <em>king</em>, and <em>duchess</em> at the beginning of chapter 10).
Also co-occurring characters are apparently <em>hatter</em> and <em>dormouse</em> in
chapters 6 and 11. It seems as if chapter 11 featured a larger number of key
characters than most of the other chapters, but this visualization is not
optimal to confirm this.</p>
<p>What you can do is create another visualization in which &#8216;Filename&#8217; and &#8216;Word&#8217;
are swapped. Changing the categories in visualizations is generally done by
changing the position of columns in the results table: left-click on the
header &#8216;Word&#8217; in the results table, and drag the header (with the left mouse
key pressed) to a position to the right of the column header &#8216;Filename&#8217;. Your
results table should now look like this:</p>
<div class="figure" id="id14">
<a class="reference internal image-reference" href="../_images/tutorial_results_table_moved.png"><img alt="../_images/tutorial_results_table_moved.png" src="../_images/tutorial_results_table_moved.png" style="width: 395.0px; height: 189.5px;" /></a>
<p class="caption"><span class="caption-text">The frequency table, now with the &#8216;Word&#8217; column in second position.</span></p>
</div>
<p>If you create a new barcode plot, each subplot now corresponds to one chapter,
and the different colors correspond to the different key characters:</p>
<div class="figure" id="id15">
<a class="reference internal image-reference" href="../_images/barcode_alice2.png"><img alt="../_images/barcode_alice2.png" src="../_images/barcode_alice2.png" style="width: 442.0px; height: 353.5px;" /></a>
<p class="caption"><span class="caption-text">A barcode plot showing the occurrences of key characters in the different
chapters.</span></p>
</div>
<p>Indeed, chapter 11 features seven of the eleven key characters (even if
<em>gryphon</em> in light-red is mentioned only twice). Conspicuously, the only key
character to occur in chapter 5 is <em>alice</em>. The explanation is simple: as the
title of chapter 5 <em>Advice from a Caterpillar</em> suggests, we missed at least
one key character of the story.</p>
</div>
<div class="section" id="what-next">
<h2>What next?</h2>
<p>In this tutorial, you have experimented with a few of the key features of
Coquery: specifying query strings, selecting output columns, rearranging and
aggregating the results table, and visualizing the data.</p>
<p>You can learn more about these and other features in the <a class="reference internal" href="../userguide/index.html#users"><span>Users manual</span></a>. A
detailed description of the different elements of the main interface and of
all menu entries is given in <a class="reference internal" href="../reference/index.html#reference"><span>Reference guide</span></a>. More on building your own
corpora, as well as using Coquery with one of the supported third-party
corpora, is found in <a class="reference internal" href="../corpora/index.html#corpora"><span>Corpus guide</span></a>.</p>
</div>
</div>


          </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#starting-coquery">Starting Coquery</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-alice-corpus">Building the ALICE corpus</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-a-frequency-list">Getting a frequency list</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contingency-tables">Contingency tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-the-results">Visualizing the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-next">What next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">Users manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../corpora/index.html">Corpus guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
            <p class="searchtip" style="font-size: 90%">
                Enter search terms or a module, class or function name.
            </p>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="../index.html" title="Coquery documentation"
              >previous</a> |
            <a href="../userguide/index.html" title="Users manual"
              >next</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>